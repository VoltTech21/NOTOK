<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>$NOTOK</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>$NOTOK</h1>
    <nav>
      <a href="/">Home</a>
      <a href="/about">About</a>
      <a href="/community">Community</a>
      <a href="/markets">Markets</a>
      <a href="/media">Media</a>
      <a href="/price">Price</a>
    </nav>
  </header>



<section class="banner">
  We Are NOTOK — But the Market makes us feel better.<br />Buy, Sell, and Burn.
</section>


<section id="about">
  <h2>About $NOTOK</h2>
  <p>
    $NOTOK is a meme token on Solana, born out of collective burnout,
    financial chaos, and existential dread. It’s not about utility — it’s a vibe.
    No roadmap. No promises. Just memes and a community driven <strong>Therapy Fund</strong> to support mental health.
  </p>
</section>

<section id="price">
  <h2>Live Price Chart</h2>
  <iframe height="400" width="100%" id="geckoterminal-embed" title="GeckoTerminal Embed"
          src="https://www.geckoterminal.com/solana/pools/9zAm12v8hREeL31EBK9JjJ4p2Qqfbpsqp1ATJYhxLWk2?embed=1&info=1&swaps=0&grayscale=0&light_chart=0&chart_type=price&resolution=15m"
          frameborder="0" allow="clipboard-write" allowfullscreen></iframe>
</section>

<section id="markets" class="markets">
  <h2>Trade $NOTOK</h2>
  <a href="https://raydium.io/swap/?inputCurrency=sol&outputCurrency=7cdmB4rYSRGnUsB1QZ62oMYPtepAVJsdMfjki3Hyrjko" target="_blank">Raydium</a>
  <a href="https://birdeye.so/token/7cdmB4rYSRGnUsB1QZ62oMYPtepAVJsdMfjki3Hyrjko" target="_blank">Birdeye</a>
</section>

<section id="community">
  <h2>Join the Community</h2>
  <ul>
    <li><a href="https://x.com/notokcoin" target="_blank">X (Twitter)</a></li>
    <li><a href="https://discord.gg/notokofficial" target="_blank">Discord</a></li>
    <li><a href="https://reddit.com/r/notokcoin" target="_blank">Reddit</a></li>
  </ul>
</section>

<footer>
  &copy; 2025 $NOTOK — Satire, Not Financial Advice. Stay unwell, friends.
</footer>



<script>
  const NOTOK_TOKEN = {
    symbol: "NOTOK",
    address: "7cdmB4rYSRGnUsB1QZ62oMYPtepAVJsdMfjki3Hyrjko"
  };

  const options = {
    method: 'GET',
    headers: {
      accept: 'application/json',
      'x-chain': 'solana',
      'X-API-KEY': 'a2d991844fbd4cd79c72261f54cdfa06'
    }
  };

  function formatTime(unixTime) {
  const date = new Date(unixTime * 1000);
  const time = date.toLocaleTimeString(undefined, {
    hour: '2-digit',
    minute: '2-digit',
    second: '2-digit',
    hour12: true
  });
  return `${time} CST`; // for display only, not actual TZ conversion
}


  async function fetchNOTOKData() {
    const url = `https://public-api.birdeye.so/defi/price?address=${NOTOK_TOKEN.address}&ui_amount_mode=raw&check_liquidity=0&include_liquidity=true`;

    try {
      const res = await fetch(url, options);
      const json = await res.json();

      if (!json.success || !json.data) throw new Error(json.message || "No price data returned.");
      const data = json.data;

      const price = parseFloat(data.value).toFixed(9);
      const change = parseFloat(data.priceChange24h || 0).toFixed(3);
      const native = parseFloat(data.priceInNative || 0).toFixed(9);
      const liquidity = parseFloat(data.liquidity || 0).toLocaleString("en-US", {
        style: "currency",
        currency: "USD",
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      });
      const updated = formatTime(data.updateUnixTime);

      const color = change > 0 ? "#00ffae" : change < 0 ? "#ff4d4d" : "#ccc";
      const arrow = change > 0 ? "▲" : change < 0 ? "▼" : "–";

      const ticker = document.getElementById("price-ticker");
      ticker.innerHTML = `
        <div class="scroll-wrapper">
          <div class="scroll-content">
            <span style="color:${color}; font-weight: 600; padding: 0.5rem 2rem;">
              $${NOTOK_TOKEN.symbol}: <strong>$${price}</strong> ${arrow} ${change}%
            </span>
            <span style="padding: 0.5rem 2rem;">Liquidity: ${liquidity}</span>
            <span style="padding: 0.5rem 2rem;">Price in SOL: ${native}</span>
            <span style="padding: 0.5rem 2rem;">Updated: ${updated}</span>
          </div>
        </div>

      `;
    } catch (err) {
      console.error("Ticker fetch error:", err);
      document.getElementById("price-ticker").innerHTML = `
        <div class="scroll-wrapper">
          <div class="scroll-content">
            <span style="color:#888; padding: 0.5rem 2rem;">$NOTOK Ticker unavailable</span>
          </div>
        </div>
      `;
    }
  }

  fetchNOTOKData();
  setInterval(fetchNOTOKData, 60000); // every 1 minute

</script>
</body>
</html>
